(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[28,75],{"0jGJ":function(e,t,a){e.exports={btn:"btn___2Qp3s",modalWrap:"modalWrap___1p1LB",modalMask:"modalMask___2WVb0",modal:"modal___2azsy",closeBtn:"closeBtn___2RpMi",modalTit:"modalTit___cqk5s",footer:"footer___23aTG"}},KYPO:function(e,t,a){e.exports={topArea:"topArea___23MoU",tx:"tx___3WFPt",textArea:"textArea___2StXs",title:"title___3YIx5",desc:"desc___3hxj_",btnArea:"btnArea___2pvUQ",btn:"btn___39EIK",container:"container___1azLC",listContainer:"listContainer___2dTBz",withoutRecord:"withoutRecord___gmXPF",record:"record___yzwvk",listItem:"listItem___2gfLB",itemTime:"itemTime___2xcrm",itemDetail:"itemDetail___1tGzx",itemLeft:"itemLeft___1bY7A",awardName:"awardName___2QXa3",itemIcon:"itemIcon___2WHlh",winningTip:"winningTip___1cV8_",officialGuid:"officialGuid___2aU_g",winning:"winning___2jpcL",winnerIcon:"winnerIcon___57WVZ",modalMask:"modalMask___3_fE_",content:"content___13Lgf"}},RB3c:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return r})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return l}));var n=a("t2kq"),i=e=>n["a"].get("/h5/activity-record/my-list?pid=".concat(null===e||void 0===e?void 0:e.pid,"&&openid=").concat(null===e||void 0===e?void 0:e.openid)),r=e=>n["a"].post("/h5/activity/post",e),o=e=>n["a"].post("/h5/activity/daily-limit",e),l=e=>n["a"].get("/wechat/generatescheme?url=".concat(e)),c=e=>n["a"].post("/h5/pv",{pid:e})},jwKU:function(e,t,a){"use strict";a.r(t);var n=a("k1fw"),i=a("q1tI"),r=a.n(i),o=a("i8i4"),l=a.n(o),c=a("0jGJ"),d=a.n(c),s=e=>{var t=e.visible,a=e.title,i=e.children,o=e.onClose,c=e.height,s=e.width,u=e.okText,m=e.cancelText,v=e.onOk,p=e.btnColor,b=e.style,g=e.clink,w=()=>{v&&(location.href=v)},h=()=>{o&&o()},f=r.a.createElement("div",{className:d.a.modalWrap},r.a.createElement("div",{className:d.a.modalMask}),r.a.createElement("div",{className:d.a.modal,style:{width:s+"px",height:c+"px",padding:g?0:"20px"}},r.a.createElement("span",{className:d.a.closeBtn,onClick:o},"x"),g?r.a.createElement("iframe",{src:g,style:{border:"none",width:"100%",height:"100%",borderRadius:6}}):r.a.createElement(r.a.Fragment,null,a&&r.a.createElement("div",{className:d.a.modalTit},a),r.a.createElement("div",{style:Object(n["a"])({maxHeight:c-120,overflow:"auto"},b)}," ",i," "),(!!u||!!m)&&r.a.createElement("div",{className:d.a.footer},r.a.createElement("div",{className:d.a.btn,onClick:w,style:{backgroundColor:p}},u||"\u786e\u8ba4"),r.a.createElement("div",{className:d.a.btn,onClick:h},m||"\u53d6\u6d88")))));return t?l.a.createPortal(f,document.body):null};t["default"]=Object(i["memo"])(s)},npgF:function(e,t,a){"use strict";a.r(t);a("miYZ");var n=a("tsqr"),i=a("WmNS"),r=a.n(i),o=a("9og8"),l=a("tJVT"),c=a("q1tI"),d=a.n(c),s=a("HBJs"),u=a("jwKU"),m=a("9kvl"),v=a("KYPO"),p=a.n(v),b=a("/MKj"),g=a("RB3c"),w=a("RKZ9"),h=a("wd/R"),f=a.n(h),E=Object(c["memo"])(e=>{var t,a,i=e.border1Color,v=e.border2Color,b=e.border3Color,h=e.fontSize,E=e.color,_=e.radius,x=e.resultBtnText,k=e.resultBtnColor,A=e.resultBtnFontSize,N=e.toastBg,j=e.pstate,O=Object(c["useRef"])(null),y=null!==(t=null===j||void 0===j?void 0:j.activity)&&void 0!==t?t:null===e||void 0===e?void 0:e.lotteryAwardsSetting,I=Object(c["useState"])(null===y||void 0===y?void 0:y.totalLimit),C=Object(l["a"])(I,2),D=C[0],R=C[1],M=Object(c["useState"])(!1),S=Object(l["a"])(M,2),Z=S[0],Y=S[1],G=Object(c["useState"])(!1),z=Object(l["a"])(G,2),L=z[0],W=z[1],T=Object(c["useState"])("\u8c22\u8c22\u60e0\u987e"),F=Object(l["a"])(T,2),U=F[0],Q=F[1],B=Object(c["useState"])(),V=Object(l["a"])(B,2),H=V[0],J=V[1],P=Object(c["useState"])(""),X=Object(l["a"])(P,2),K=(X[0],X[1]),q=Object(c["useState"])(!0),$=Object(l["a"])(q,2),ee=$[0],te=$[1],ae=Object(c["useState"])([]),ne=Object(l["a"])(ae,2),ie=ne[0],re=ne[1],oe=JSON.parse(localStorage.getItem("wx_info")||"{}"),le=(window.location.search,"http://cdn.dooring.cn/dr/grider.png"),ce=(new Map([["\u8fd4\u56de\u6d3b\u52a8\u9875\u9762","0"],["\u6253\u5f00\u65b0\u9875\u9762","1"]]),{blocks:[{padding:"15px",background:i,borderRadius:28},{padding:"4px",background:v,borderRadius:23},{padding:"4px",background:b,borderRadius:20}],buttons:[{x:1,y:1,background:"linear-gradient(270deg, #FFDCB8, #FDC689)",shadow:"0 5 1 #e89b4f",fonts:[{text:"".concat(D,"\u6b21"),fontColor:"#fff",top:"73%",fontSize:"11px"}],imgs:[{src:"https://cdn.dooring.cn/dr/20230712-151950.png",width:"65%",top:"23%"},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF8AAAAgCAYAAAB0OKThAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0NDUyYzFkZi0wMzBkLTQ4M2YtODQ2ZC05ZmZiNzA4ODk4YTAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NEQ3QUEzNTVERDlEMTFFQUFFMjlEOENEMjk2NkNCQjYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NEQ3QUEzNTRERDlEMTFFQUFFMjlEOENEMjk2NkNCQjYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDplN2M2ZDZjNi1kNTUwLTQzMjMtODViOS02N2E1NzU0ZThmMDMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDQ1MmMxZGYtMDMwZC00ODNmLTg0NmQtOWZmYjcwODg5OGEwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+6LYfBAAAAetJREFUeNrsmrFLAmEYhz8PLMOylnAO3YKKliBcwiWsIWipvX/AJRsd06X+gJprqK2iRVqKtgjBKaVZXErLiob6vfkeqF3nmd59g+8Dz6Quz53ffXf3+r4W15RDRuEKXIJzcAqOw2E1uHzAZ/gI7+EVPIcvTn7scxA/ClNwEwaV0IlXeAQzsGj3RcPmswDchQW4JeEdE+ReBT4AgW7jR+Atn/FD0vNfULdt7hh1Gn8e3vC6LvQOdbzmrrbx6QhdwrA06yth7hr9K/4IPIGT0soVqOspd/4VPw1npZGrzHDnlvh0gU1KG09ImsuPGX8H+qWLJ/i590/8Mb6BErxjg7pT/ITcQGm5EUtQ/Li00ELc4CuwoGHnY/BOR/CeCMUPSQcthAxpoA+KX5UMWqhS/JJ00EKJ4uelgxbyFD8nHbSQo/gXqvHeUfCOOnWn+DV4LD08hV6w18ytJr0o/5QmnkCdM+ZWk6ARhz3p4gn78KE5PpGWnY/7Oxxl8SaLeIPrsCKNXKHCfetW8c3lZxmWpVVfKXPXYvvjhXbuYEyWoL4uNTHuqjrFN/8BCzAru6CedjVZ7mg5s2n3VPNdNcYFp+FB81ol2ELXzkPuluKOlvi6HBFfVa0j4hNqsKce6Ox+Uq0j4mfK4Yj4twADAFPnVt8Y9zydAAAAAElFTkSuQmCC",width:"50%",top:"73%"}]}],defaultConfig:{gutter:5},defaultStyle:{borderRadius:_,fontColor:E,fontSize:h+"px",textAlign:"center",background:"#fff",shadow:"0 5 1 #ebf1f4"},activeStyle:{background:"linear-gradient(270deg, #FFDCB8, #FDC689)",shadow:""}});Object(c["useEffect"])(()=>{window.location.href.indexOf("editor")<0&&(Object(w["d"])()||te(!1))},[]),Object(c["useEffect"])(()=>{window.location.href.indexOf("editor")<0?ve():(null===y||void 0===y?void 0:y.lotteryLimit)?R(null===y||void 0===y?void 0:y.dailyLimit):R(null===y||void 0===y?void 0:y.totalLimit)},[]);var de=()=>{Y(!1)},se=()=>{W(!1)},ue=function(){var e=Object(o["a"])(r.a.mark((function e(){var t,a,n,i,o,l;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(window.location.href.indexOf("editor")>-1)){e.next=2;break}return e.abrupt("return");case 2:return i={pid:null===m["a"]||void 0===m["a"]||null===(t=m["a"].location)||void 0===t||null===(a=t.query)||void 0===a?void 0:a.pid,openid:null!==(n=null===oe||void 0===oe?void 0:oe.openid)&&void 0!==n?n:"test1234"},e.next=5,Object(g["b"])(i);case 5:o=e.sent,l=o.list,re(l),W(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=()=>{for(var e,t=null===y||void 0===y||null===(e=y.awardsSetting)||void 0===e?void 0:e.map(e=>({name:e.awardName,img:e.awardIcon?e.awardIcon[0].url:"",background:e.awardBgColor})),a=[],n=[[0,0],[1,0],[2,0],[2,1],[2,2],[1,2],[0,2],[0,1]],i=0;i<8;i++){var r=t[i];a.push({index:i,x:n[i][0],y:n[i][1],fonts:[{text:null===r||void 0===r?void 0:r.name,top:"70%"}],imgs:[{src:null===r||void 0===r?void 0:r.img,width:"55%",top:"8%"}]})}return a},ve=function(){var e=Object(o["a"])(r.a.mark((function e(){var t,a,n,i,o;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,i={pid:null===m["a"]||void 0===m["a"]||null===(t=m["a"].location)||void 0===t||null===(a=t.query)||void 0===a?void 0:a.pid,openid:null!==(n=null===oe||void 0===oe?void 0:oe.openid)&&void 0!==n?n:"test1234"},e.next=4,Object(g["a"])(i);case 4:return o=e.sent,R(null===o||void 0===o?void 0:o.dailyUsable),e.abrupt("return",null===o||void 0===o?void 0:o.dailyUsable);case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),pe=()=>{window.open("https://mp.weixin.qq.com/mp/profile_ext?action=home&__biz=MzkwOTM4NDQ2MA==#wechat_redirect")};return d.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"16px",borderRadius:_+"px",boxShadow:"0 0 6px rgba(0,0,0, .1)"}},!ee&&d.a.createElement("div",{className:p.a.modalMask},d.a.createElement("span",null,"\u8be5\u6d3b\u52a8\u4ec5\u652f\u6301\u5fae\u4fe1\u73af\u5883")),d.a.createElement(s["a"],{ref:O,width:"300px",height:"300px",blocks:ce.blocks,prizes:me(),buttons:ce.buttons,defaultStyle:ce.defaultStyle,onStart:Object(o["a"])(r.a.mark((function e(){var t,a,i,o,l,c,d,s,u,v,p,b,w;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(window.location.href.indexOf("editor")>-1)){e.next=2;break}return e.abrupt("return");case 2:if(t=(new Date).getTime(),a=new Date(null===y||void 0===y?void 0:y.startTime).getTime(),i=new Date(null===y||void 0===y?void 0:y.endTime).getTime(),!(t<a)){e.next=8;break}return n["b"].warning("\u8be5\u6d3b\u52a8\u6682\u672a\u5f00\u59cb"),e.abrupt("return");case 8:if(!(t>i)){e.next=11;break}return n["b"].warning("\u8be5\u6d3b\u52a8\u5df2\u7ed3\u675f"),e.abrupt("return");case 11:return e.next=13,ve();case 13:if(e.t0=e.sent,0!==e.t0){e.next=22;break}if(!(null===y||void 0===y?void 0:y.lotteryLimit)){e.next=20;break}return n["b"].warning("\u60a8\u4eca\u65e5\u7684\u62bd\u5956\u6b21\u6570\u5df2\u7ecf\u7528\u5b8c\uff0c\u8bf7\u660e\u5929\u518d\u8bd5\u8bd5\u5427"),e.abrupt("return");case 20:return n["b"].warning("\u60a8\u7684\u62bd\u5956\u6b21\u6570\u5df2\u7ecf\u7528\u5b8c"),e.abrupt("return");case 22:return e.prev=22,null===O||void 0===O||null===(o=O.current)||void 0===o||o.play(),u={pid:null===m["a"]||void 0===m["a"]||null===(l=m["a"].location)||void 0===l||null===(c=l.query)||void 0===c?void 0:c.pid,openid:null!==(d=null===oe||void 0===oe?void 0:oe.openid)&&void 0!==d?d:"test1234",nickname:null!==(s=null===oe||void 0===oe?void 0:oe.nickname)&&void 0!==s?s:"testNick"},e.next=27,Object(g["e"])(u);case 27:if(v=e.sent,!(null===v||void 0===v?void 0:v.success)){e.next=37;break}return b=null===v||void 0===v?void 0:v.key,K(b),w=parseInt(b)-1,null===O||void 0===O||null===(p=O.current)||void 0===p||p.stop(w),e.next=35,ve();case 35:e.next=39;break;case 37:return n["b"].warning(null===v||void 0===v?void 0:v.message),e.abrupt("return");case 39:e.next=44;break;case 41:e.prev=41,e.t1=e["catch"](22),console.error(e.t1);case 44:case"end":return e.stop()}}),e,null,[[22,41]])}))),onEnd:e=>{var t,a;console.log(e),console.log("\u62bd\u5956\u7ed3\u679c:"+e.fonts[0].text),Q(null===e||void 0===e||null===(t=e.fonts[0])||void 0===t?void 0:t.text),J(null===e||void 0===e||null===(a=e.imgs[0])||void 0===a?void 0:a.src),Y(!0)}}),d.a.createElement("div",{style:{width:"100%",textAlign:"right"}},d.a.createElement("span",{style:{color:k,fontSize:A,cursor:"pointer"},onClick:ue},x)),d.a.createElement(u["default"],{visible:L,onClose:se,width:340,height:400,style:{maxHeight:"400px",height:"100%"}},d.a.createElement("div",{className:p.a.container},d.a.createElement("div",{className:p.a.header}),0===ie.length&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:p.a.listContainer},d.a.createElement("div",{className:p.a.withoutRecord},d.a.createElement("img",{src:"https://cdn.dooring.cn/dr/withoutgitf.jpeg"}),d.a.createElement("span",null,"\u5f88\u9057\u61be\uff0c\u6682\u65e0\u4e2d\u5956\u8bb0\u5f55")))),ie.length>0&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:p.a.listContainer},d.a.createElement("div",{className:p.a.record},ie.map(e=>d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:p.a.listItem},d.a.createElement("div",{className:p.a.itemTime},d.a.createElement("span",null,"\u4e2d\u5956\u65f6\u95f4\uff1a"),d.a.createElement("span",null,f()(null===e||void 0===e?void 0:e.createdAt).format("YYYY-MM-DD HH:mm:ss"))),d.a.createElement("div",{className:p.a.itemDetail},d.a.createElement("div",{className:p.a.itemLeft},d.a.createElement("div",{className:p.a.itemIcon},d.a.createElement("img",{src:null!==H&&void 0!==H?H:le})),d.a.createElement("span",{className:p.a.awardName},null===e||void 0===e?void 0:e.awardName)),d.a.createElement("div",{className:p.a.winningTip},"\xb7\u5df2\u4e2d\u5956\xb7")))))))),d.a.createElement("div",{className:p.a.officialGuid,onClick:pe}))),d.a.createElement(u["default"],{visible:Z,onClose:de,width:300,height:400,style:{maxHeight:"400px"}},d.a.createElement("div",{className:p.a.winning,style:{backgroundImage:"url(".concat(null===(a=N[0])||void 0===a?void 0:a.url,")"),height:"310px"}},d.a.createElement("div",{className:p.a.winnerIcon},d.a.createElement("img",{src:null!==H&&void 0!==H?H:le})),d.a.createElement("div",{className:p.a.winnerPrize},d.a.createElement("span",null,U))),d.a.createElement("div",{className:p.a.btn,onClick:de})))});t["default"]=Object(b["c"])(e=>{var t;return{pstate:null===e||void 0===e||null===(t=e.present)||void 0===t?void 0:t.editorModal}})(E)},t2kq:function(e,t,a){"use strict";a("miYZ");var n=a("tsqr"),i=a("vDqi"),r=a.n(i),o=a("RKZ9"),l=r.a.create({baseURL:"".concat("https://dooring.vip","/").concat("api"),timeout:6e4,withCredentials:!0});l.interceptors.request.use((function(e){return e.headers={Authorization:"Bearer ".concat(localStorage.getItem("token"))},e}),(function(e){return Promise.reject(e)})),l.interceptors.response.use((function(e){var t;return"post"===(null===(t=e.config.method)||void 0===t?void 0:t.toLocaleLowerCase())&&(e.data.success||(n["b"].error(e.data.message),407==e.data.status&&(window.location.href=o["e"]))),e.data.data}),(function(e){var t=e.response;return t&&404===t.status?n["b"].error("\u8bf7\u6c42\u8d44\u6e90\u672a\u53d1\u73b0"):403===t.status?n["b"].error(t.data.message,()=>{var e=encodeURI("".concat(window.location.pathname).concat(window.location.search));window.location.href="/h5_plus/login?redirect=".concat(e),localStorage.removeItem("h5"),localStorage.removeItem("userData")}):n["b"].error(t.data.message),Promise.reject(e)})),t["a"]=l}}]);