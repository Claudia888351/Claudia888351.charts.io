(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21,75],{"0jGJ":function(e,t,n){e.exports={btn:"btn___2Qp3s",modalWrap:"modalWrap___1p1LB",modalMask:"modalMask___2WVb0",modal:"modal___2azsy",closeBtn:"closeBtn___2RpMi",modalTit:"modalTit___cqk5s",footer:"footer___23aTG"}},"3Eh+":function(e,t,n){"use strict";n.r(t);var _=n("0Owb"),a=n("tJVT"),o=n("q1tI"),r=n.n(o),i=n("jwKU"),c=n("Bok+"),l=n("R2Hl"),s=n.n(l),d=n("RKZ9"),u=n("TSYQ"),p=n.n(u),m=Object(o["memo"])(e=>{e.cpName;var t=e.id,n=e.align,l=e.text,u=e.fontSize,m=e.fontFamily,b=e.space,f=e.color,h=e.dot,x=e.shadow,w=void 0===x?[0,0]:x,k=e.shadowSize,E=void 0===k?0:k,g=e.lineHeight,v=e.overflowRow,O=e.fontWeight,I=e.fontStyle,D=e.bgColor,y=e.padding,M=e.radius,C=e.animation,P=e.animationTurn,j=e.delay,R=e.strokeSize,T=void 0===R?0:R,U=e.strokeColor,L=e.sourcedata,B=e.interaction,W=void 0===B?{type:"",content:"",title:"",width:300,height:300,okText:"",cancelText:"",btnColor:"",onOk:""}:B,S=W.type,A=W.content,K=Object(o["useState"])(!1),q=Object(a["a"])(K,2),z=q[0],N=q[1],F=Object(o["useState"])(!1),G=Object(a["a"])(F,2),H=G[0],Y=G[1],Z=Object(o["useRef"])(null),J=Object(o["useState"])(""),X=Object(a["a"])(J,2),Q=X[0],V=X[1],$=()=>{Object(c["b"])(S,A,()=>{N(!0)})},ee=()=>{Object(c["c"])()&&(Y(!0),setTimeout(()=>{Z.current.focus(),Z.current.value=l},30))},te=()=>{window.handleTextUpdate(Z.current.value),Y(!1)},ne=()=>{N(!1)};return Object(o["useEffect"])(()=>{if(L&&"none"!==L.field)if("1"==L.type){var e=L.data?L.data.url:"";e&&fetch(e).then(e=>e.json()).then(e=>{e.result&&e.result.length&&V(e.result)}).catch(e=>{console.error(e)})}else{var t,n=L.data;V("string"===typeof n?n:null===(t=n[0])||void 0===t?void 0:t.title)}},[L]),Object(o["useEffect"])(()=>{var e="source_text_".concat(t);function n(e){V(e.detail)}return document.addEventListener(e,n),()=>document.removeEventListener(e,n)},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:p()("dooring-text","none"!==C&&s.a["animate__".concat(C)]),style:{color:f,textAlign:n,textAlignLast:n,fontSize:Object(d["a"])(u),fontFamily:m,lineHeight:g,fontWeight:+O,backgroundColor:D,padding:y,textDecoration:I,borderRadius:M,animationIterationCount:P,animationDelay:j+"s",letterSpacing:b+"px",wordBreak:"break-all",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:v,WebkitBoxOrient:"vertical",cursor:S?"pointer":""},onClick:$,onDoubleClick:ee},h&&r.a.createElement("span",{style:{fontSize:12,marginRight:6,verticalAlign:2}},"\u2022"),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:Object(c["a"])(Q||l)},style:{textShadow:"".concat(w[1],"px ").concat(w[0],"px ").concat(E,"px"),WebkitTextStroke:"".concat(T,"px ").concat(U)}}),H&&r.a.createElement("input",{ref:Z,style:{border:"none",position:"absolute",top:0,left:0,fontSize:u,fontFamily:m,width:"100%",height:"100%",textAlign:"center",color:"rgba(60,60,60,1)"},onBlur:te})),r.a.createElement(i["default"],Object(_["a"])({visible:z,onClose:ne},W,{title:W&&W.title}),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:A}})))});t["default"]=m},"Bok+":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return isEditorPage})),__webpack_require__.d(__webpack_exports__,"b",(function(){return cpClick})),__webpack_require__.d(__webpack_exports__,"a",(function(){return addSpaceEntity}));var _Users_apple_Desktop_github_editor_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("WmNS"),_Users_apple_Desktop_github_editor_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_Users_apple_Desktop_github_editor_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),_Users_apple_Desktop_github_editor_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("9og8"),umi__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("9kvl"),xss__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("Xjjk"),xss__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(xss__WEBPACK_IMPORTED_MODULE_3__),_api_editor__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("RB3c"),isEditorPage=()=>window.location.pathname.indexOf("editor")>-1,addSpaceEntity=e=>xss__WEBPACK_IMPORTED_MODULE_3___default()(e.replace(/\s/g,"&nbsp;")),cpClick=function(){var _ref=Object(_Users_apple_Desktop_github_editor_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["a"])(_Users_apple_Desktop_github_editor_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee(type,content,showModalFn){var url,res;return _Users_apple_Desktop_github_editor_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!isEditorPage()){_context.next=2;break}return _context.abrupt("return");case 2:if("link"!==type){_context.next=12;break}if(!(window.location.href.indexOf("preview")>-1)){_context.next=6;break}return content&&(content.indexOf("http")>-1||content.indexOf(".")>-1?window.location.href=content.indexOf("http")>-1?content:"https://".concat(content):window.location.href="/h5?pid=".concat(content)),_context.abrupt("return");case 6:if(!(content.indexOf("http")>-1||content.indexOf(".")>-1)){_context.next=9;break}return window.location.href=content.indexOf("http")>-1?content:"https://".concat(content),_context.abrupt("return");case 9:content&&umi__WEBPACK_IMPORTED_MODULE_2__["a"].push("?pid=".concat(content)),_context.next=40;break;case 12:if("modal"!==type){_context.next=16;break}showModalFn(),_context.next=40;break;case 16:if("code"!==type){_context.next=20;break}eval(content),_context.next=40;break;case 20:if("phone"!==type){_context.next=24;break}window.location.href="tel://"+content,_context.next=40;break;case 24:if("toTop"!==type){_context.next=28;break}document.querySelector("#dooring_scroll_box").scrollTo({top:0,behavior:"smooth"}),_context.next=40;break;case 28:if("miniCode"!==type){_context.next=32;break}window.location.href=content,_context.next=40;break;case 32:if("jumpMiniCode"!==type){_context.next=40;break}if(!content){_context.next=39;break}return url=content.indexOf("http")>-1?content:"".concat(window.location.origin,"/h5?pid=").concat(content),_context.next=37,Object(_api_editor__WEBPACK_IMPORTED_MODULE_4__["c"])(url);case 37:res=_context.sent,0===(null===res||void 0===res?void 0:res.errcode)&&window.open(null===res||void 0===res?void 0:res.url_link);case 39:return _context.abrupt("return");case 40:case"end":return _context.stop()}}),_callee)})));return function(e,t,n){return _ref.apply(this,arguments)}}()},R2Hl:function(e,t,n){e.exports={animate__bounce:"animate__bounce___2FpSW",bounce:"bounce___21Wxk",animate__scale:"animate__scale___7le2C",scale:"scale___2wpPS",animate__rubberBand:"animate__rubberBand___2aZ4Q",rubberBand:"rubberBand___3RYgU",animate__fadeInDown:"animate__fadeInDown___3Aula",fadeInDown:"fadeInDown___FGzKt",animate__fadeInLeft:"animate__fadeInLeft___3Z5ME",fadeInLeft:"fadeInLeft___288Ai",animate__fadeInRight:"animate__fadeInRight___2ePOm",fadeInRight:"fadeInRight___Ayh9L",animate__fadeInUp:"animate__fadeInUp___1bmG8",fadeInUp:"fadeInUp___95vFy",animate__flipInX:"animate__flipInX___24rbQ",flipInX:"flipInX___2VGjn",animate__flipInY:"animate__flipInY___2OeoN",flipInY:"flipInY___3CZlf",animate__hinge:"animate__hinge___1LUqY",hinge:"hinge___36f5l",animate__zoomIn:"animate__zoomIn___mAtDO",zoomIn:"zoomIn___3-Laz",animate__rotate:"animate__rotate___eZHo9",rotate:"rotate___3KFRK"}},RB3c:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i}));var _=n("t2kq"),a=e=>_["a"].get("/h5/activity-record/my-list?pid=".concat(null===e||void 0===e?void 0:e.pid,"&&openid=").concat(null===e||void 0===e?void 0:e.openid)),o=e=>_["a"].post("/h5/activity/post",e),r=e=>_["a"].post("/h5/activity/daily-limit",e),i=e=>_["a"].get("/wechat/generatescheme?url=".concat(e)),c=e=>_["a"].post("/h5/pv",{pid:e})},jwKU:function(e,t,n){"use strict";n.r(t);var _=n("k1fw"),a=n("q1tI"),o=n.n(a),r=n("i8i4"),i=n.n(r),c=n("0jGJ"),l=n.n(c),s=e=>{var t=e.visible,n=e.title,a=e.children,r=e.onClose,c=e.height,s=e.width,d=e.okText,u=e.cancelText,p=e.onOk,m=e.btnColor,b=e.style,f=e.clink,h=()=>{p&&(location.href=p)},x=()=>{r&&r()},w=o.a.createElement("div",{className:l.a.modalWrap},o.a.createElement("div",{className:l.a.modalMask}),o.a.createElement("div",{className:l.a.modal,style:{width:s+"px",height:c+"px",padding:f?0:"20px"}},o.a.createElement("span",{className:l.a.closeBtn,onClick:r},"x"),f?o.a.createElement("iframe",{src:f,style:{border:"none",width:"100%",height:"100%",borderRadius:6}}):o.a.createElement(o.a.Fragment,null,n&&o.a.createElement("div",{className:l.a.modalTit},n),o.a.createElement("div",{style:Object(_["a"])({maxHeight:c-120,overflow:"auto"},b)}," ",a," "),(!!d||!!u)&&o.a.createElement("div",{className:l.a.footer},o.a.createElement("div",{className:l.a.btn,onClick:h,style:{backgroundColor:m}},d||"\u786e\u8ba4"),o.a.createElement("div",{className:l.a.btn,onClick:x},u||"\u53d6\u6d88")))));return t?i.a.createPortal(w,document.body):null};t["default"]=Object(a["memo"])(s)},t2kq:function(e,t,n){"use strict";n("miYZ");var _=n("tsqr"),a=n("vDqi"),o=n.n(a),r=n("RKZ9"),i=o.a.create({baseURL:"".concat("https://dooring.vip","/").concat("api"),timeout:6e4,withCredentials:!0});i.interceptors.request.use((function(e){return e.headers={Authorization:"Bearer ".concat(localStorage.getItem("token"))},e}),(function(e){return Promise.reject(e)})),i.interceptors.response.use((function(e){var t;return"post"===(null===(t=e.config.method)||void 0===t?void 0:t.toLocaleLowerCase())&&(e.data.success||(_["b"].error(e.data.message),407==e.data.status&&(window.location.href=r["e"]))),e.data.data}),(function(e){var t=e.response;return t&&404===t.status?_["b"].error("\u8bf7\u6c42\u8d44\u6e90\u672a\u53d1\u73b0"):403===t.status?_["b"].error(t.data.message,()=>{var e=encodeURI("".concat(window.location.pathname).concat(window.location.search));window.location.href="/h5_plus/login?redirect=".concat(e),localStorage.removeItem("h5"),localStorage.removeItem("userData")}):_["b"].error(t.data.message),Promise.reject(e)})),t["a"]=i}}]);