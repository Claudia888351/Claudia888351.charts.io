(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[27,75],{"+aV3":function(e,t,a){e.exports={topArea:"topArea___KOQKi",tx:"tx___fMpCD",textArea:"textArea___10UoQ",title:"title___iXhDz",desc:"desc___1B2uF",btnArea:"btnArea___2_Frx",btn:"btn___1Mb4V",container:"container___2k9VA",listContainer:"listContainer___Hi_ld",withoutRecord:"withoutRecord___37hid",record:"record___3rPmb",listItem:"listItem___2RvOx",itemTime:"itemTime___3aE5V",itemDetail:"itemDetail___17fRO",itemLeft:"itemLeft___3CQ7P",awardName:"awardName___R1Cjo",itemIcon:"itemIcon___3pX-q",winningTip:"winningTip___x66CY",officialGuid:"officialGuid___1RND0",winning:"winning___3yDe9",winnerIcon:"winnerIcon___1z191",modalMask:"modalMask___1bIOS",content:"content___3G-lo"}},"0jGJ":function(e,t,a){e.exports={btn:"btn___2Qp3s",modalWrap:"modalWrap___1p1LB",modalMask:"modalMask___2WVb0",modal:"modal___2azsy",closeBtn:"closeBtn___2RpMi",modalTit:"modalTit___cqk5s",footer:"footer___23aTG"}},RB3c:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return r})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return l}));var n=a("t2kq"),i=e=>n["a"].get("/h5/activity-record/my-list?pid=".concat(null===e||void 0===e?void 0:e.pid,"&&openid=").concat(null===e||void 0===e?void 0:e.openid)),r=e=>n["a"].post("/h5/activity/post",e),o=e=>n["a"].post("/h5/activity/daily-limit",e),l=e=>n["a"].get("/wechat/generatescheme?url=".concat(e)),c=e=>n["a"].post("/h5/pv",{pid:e})},"eU/t":function(e,t,a){"use strict";a.r(t);a("miYZ");var n=a("tsqr"),i=a("WmNS"),r=a.n(i),o=a("9og8"),l=a("tJVT"),c=a("q1tI"),d=a.n(c),s=a("HBJs"),u=a("RB3c"),m=a("9kvl"),v=a("/MKj"),p=a("jwKU"),b=a("+aV3"),f=a.n(b),_=a("RKZ9"),w=a("wd/R"),g=a.n(w),h=Object(c["memo"])(e=>{var t,a,i,v=e.borderWidth,b=e.borderColor,w=e.imgUrl,h=e.fontSize,x=e.color,k=e.bgColor,E=e.radius,O=e.btnText,j=e.resultBtnText,y=e.resultBtnColor,N=e.resultBtnFontSize,C=e.toastBg,S=e.pstate,I=Object(c["useRef"])(null),T=null!==(t=null===S||void 0===S?void 0:S.activity)&&void 0!==t?t:null===e||void 0===e?void 0:e.lotteryAwardsSetting,R=Object(c["useState"])(null===T||void 0===T?void 0:T.totalLimit),M=Object(l["a"])(R,2),D=(M[0],M[1]),q=Object(c["useState"])(!1),z=Object(l["a"])(q,2),B=z[0],A=z[1],L=Object(c["useState"])("\u8c22\u8c22\u60e0\u987e"),U=Object(l["a"])(L,2),F=U[0],G=U[1],H=Object(c["useState"])(),J=Object(l["a"])(H,2),K=(J[0],J[1]),V=Object(c["useState"])(!0),Y=Object(l["a"])(V,2),P=Y[0],W=Y[1],Q=Object(c["useState"])(),Z=Object(l["a"])(Q,2),X=Z[0],$=Z[1],ee=Object(c["useState"])(!1),te=Object(l["a"])(ee,2),ae=te[0],ne=te[1],ie=Object(c["useState"])([]),re=Object(l["a"])(ie,2),oe=re[0],le=re[1],ce=Object(c["useState"])(O),de=Object(l["a"])(ce,2),se=de[0],ue=de[1],me=JSON.parse(localStorage.getItem("wx_info")||"{}"),ve=(window.location.search,"http://cdn.dooring.cn/dr/drawer.png"),pe=(new Map([["\u8fd4\u56de\u6d3b\u52a8\u9875\u9762","0"],["\u6253\u5f00\u65b0\u9875\u9762","1"]]),{blocks:[{padding:v+"px",background:b}],prizes:null===T||void 0===T||null===(a=T.awardsSetting)||void 0===a?void 0:a.map(e=>{var t=e.awardBgColor,a=e.awardName,n=e.awardIcon;return{background:t,fonts:[{text:a,top:"5%"}],imgs:(null===n||void 0===n?void 0:n[0])&&(null===n||void 0===n?void 0:n[0].url)?[{src:null===n||void 0===n?void 0:n[0].url,width:"30px",height:"30px",top:"25%"}]:[]}}),buttons:[{radius:"50px",background:"#d64737"},{radius:"45px",background:"#fff"},{radius:"41px",background:"#f6c66f",pointer:!0},{radius:"35px",background:"#ffdea0",fonts:[{text:se,fontSize:"18px",top:-18}]}],defaultStyle:{fontColor:x,fontSize:h+"px"}});Object(c["useEffect"])(()=>{window.location.href.indexOf("editor")<0&&(Object(_["d"])()||W(!1))},[]),Object(c["useEffect"])(()=>{window.location.href.indexOf("editor")<0?we():(null===T||void 0===T?void 0:T.lotteryLimit)?D(null===T||void 0===T?void 0:T.dailyLimit):D(null===T||void 0===T?void 0:T.totalLimit)},[]),Object(c["useEffect"])(()=>{if(O.length>=4){var e=O.slice(0,2)+"\n"+O.slice(2);ue(e)}},[O]);var be=function(){var e=Object(o["a"])(r.a.mark((function e(){var t,a,n,i,o,l;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(window.location.href.indexOf("editor")>-1)){e.next=2;break}return e.abrupt("return");case 2:return i={pid:null===m["a"]||void 0===m["a"]||null===(t=m["a"].location)||void 0===t||null===(a=t.query)||void 0===a?void 0:a.pid,openid:null!==(n=null===me||void 0===me?void 0:me.openid)&&void 0!==n?n:"test1234"},e.next=5,Object(u["b"])(i);case 5:o=e.sent,l=o.list,le(l),ne(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=()=>{ne(!1)},_e=()=>{A(!1)},we=function(){var e=Object(o["a"])(r.a.mark((function e(){var t,a,n,i,o;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,i={pid:null===m["a"]||void 0===m["a"]||null===(t=m["a"].location)||void 0===t||null===(a=t.query)||void 0===a?void 0:a.pid,openid:null!==(n=null===me||void 0===me?void 0:me.openid)&&void 0!==n?n:"test1234"},e.next=4,Object(u["a"])(i);case 4:return o=e.sent,D(null===o||void 0===o?void 0:o.dailyUsable),e.abrupt("return",null===o||void 0===o?void 0:o.dailyUsable);case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),ge=()=>{window.open("https://mp.weixin.qq.com/mp/profile_ext?action=home&__biz=MzkwOTM4NDQ2MA==#wechat_redirect")};return d.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:k,backgroundImage:w[0]?"url(".concat(w[0].url,")"):"none",padding:"16px",borderRadius:E+"px",boxShadow:"0 0 6px rgba(0,0,0, .1)"}},!P&&d.a.createElement("div",{className:f.a.modalMask},d.a.createElement("span",null,"\u8be5\u6d3b\u52a8\u4ec5\u652f\u6301\u5fae\u4fe1\u73af\u5883")),d.a.createElement(s["b"],{ref:I,width:"300px",height:"300px",blocks:pe.blocks,prizes:pe.prizes,buttons:pe.buttons,defaultStyle:pe.defaultStyle,onStart:Object(o["a"])(r.a.mark((function e(){var t,a,i,o,l,c,d,s,v,p,b,f,_;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(window.location.href.indexOf("editor")>-1)){e.next=2;break}return e.abrupt("return");case 2:if(t=(new Date).getTime(),a=new Date(null===T||void 0===T?void 0:T.startTime).getTime(),i=new Date(null===T||void 0===T?void 0:T.endTime).getTime(),!(t<a)){e.next=8;break}return n["b"].warning("\u8be5\u6d3b\u52a8\u6682\u672a\u5f00\u59cb"),e.abrupt("return");case 8:if(!(t>i)){e.next=11;break}return n["b"].warning("\u8be5\u6d3b\u52a8\u5df2\u7ed3\u675f"),e.abrupt("return");case 11:return e.next=13,we();case 13:if(e.t0=e.sent,0!==e.t0){e.next=22;break}if(!(null===T||void 0===T?void 0:T.lotteryLimit)){e.next=20;break}return n["b"].warning("\u60a8\u4eca\u65e5\u7684\u62bd\u5956\u6b21\u6570\u5df2\u7ecf\u7528\u5b8c\uff0c\u8bf7\u660e\u5929\u518d\u8bd5\u8bd5\u5427"),e.abrupt("return");case 20:return n["b"].warning("\u60a8\u7684\u62bd\u5956\u6b21\u6570\u5df2\u7ecf\u7528\u5b8c"),e.abrupt("return");case 22:return e.prev=22,null===I||void 0===I||null===(o=I.current)||void 0===o||o.play(),v={pid:null===m["a"]||void 0===m["a"]||null===(l=m["a"].location)||void 0===l||null===(c=l.query)||void 0===c?void 0:c.pid,openid:null!==(d=null===me||void 0===me?void 0:me.openid)&&void 0!==d?d:"test1234",nickname:null!==(s=null===me||void 0===me?void 0:me.nickname)&&void 0!==s?s:"testNick"},e.next=27,Object(u["e"])(v);case 27:if(p=e.sent,!(null===p||void 0===p?void 0:p.success)){e.next=37;break}return f=null===p||void 0===p?void 0:p.key,K(f),_=parseInt(f)-1,null===I||void 0===I||null===(b=I.current)||void 0===b||b.stop(_),e.next=35,we();case 35:e.next=39;break;case 37:return n["b"].warning(null===p||void 0===p?void 0:p.message),e.abrupt("return");case 39:e.next=44;break;case 41:e.prev=41,e.t1=e["catch"](22),console.error(e.t1);case 44:case"end":return e.stop()}}),e,null,[[22,41]])}))),onEnd:e=>{var t,a;G(null===e||void 0===e||null===(t=e.fonts[0])||void 0===t?void 0:t.text),$(null===e||void 0===e||null===(a=e.imgs[0])||void 0===a?void 0:a.src),A(!0)}}),d.a.createElement("div",{style:{width:"100%",textAlign:"right"}},d.a.createElement("span",{style:{color:y,fontSize:N,cursor:"pointer"},onClick:be},j)),d.a.createElement(p["default"],{visible:ae,onClose:fe,width:340,height:400,style:{maxHeight:"400px",height:"100%"}},d.a.createElement("div",{className:f.a.container},d.a.createElement("div",{className:f.a.header}),0===oe.length&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:f.a.listContainer},d.a.createElement("div",{className:f.a.withoutRecord},d.a.createElement("img",{src:"https://cdn.dooring.cn/dr/withoutgitf.jpeg"}),d.a.createElement("span",null,"\u5f88\u9057\u61be\uff0c\u6682\u65e0\u4e2d\u5956\u8bb0\u5f55")))),oe.length>0&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:f.a.listContainer},d.a.createElement("div",{className:f.a.record},oe.map(e=>d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:f.a.listItem},d.a.createElement("div",{className:f.a.itemTime},d.a.createElement("span",null,"\u4e2d\u5956\u65f6\u95f4\uff1a"),d.a.createElement("span",null,g()(null===e||void 0===e?void 0:e.createdAt).format("YYYY-MM-DD HH:mm:ss"))),d.a.createElement("div",{className:f.a.itemDetail},d.a.createElement("div",{className:f.a.itemLeft},d.a.createElement("div",{className:f.a.itemIcon},d.a.createElement("img",{src:null!==X&&void 0!==X?X:ve})),d.a.createElement("span",{className:f.a.awardName},null===e||void 0===e?void 0:e.awardName)),d.a.createElement("div",{className:f.a.winningTip},"\xb7\u5df2\u4e2d\u5956\xb7")))))))),d.a.createElement("div",{className:f.a.officialGuid,onClick:ge}))),d.a.createElement(p["default"],{visible:B,onClose:_e,width:300,height:400,style:{maxHeight:"400px"}},d.a.createElement("div",{className:f.a.winning,style:{backgroundImage:"url(".concat(null===(i=C[0])||void 0===i?void 0:i.url,")"),height:"310px"}},d.a.createElement("div",{className:f.a.winnerIcon},d.a.createElement("img",{src:null!==X&&void 0!==X?X:ve})),d.a.createElement("div",{className:f.a.winnerPrize},d.a.createElement("span",null,F))),d.a.createElement("div",{className:f.a.btn,onClick:_e})))});t["default"]=Object(v["c"])(e=>{var t;return{pstate:null===e||void 0===e||null===(t=e.present)||void 0===t?void 0:t.editorModal}})(h)},jwKU:function(e,t,a){"use strict";a.r(t);var n=a("k1fw"),i=a("q1tI"),r=a.n(i),o=a("i8i4"),l=a.n(o),c=a("0jGJ"),d=a.n(c),s=e=>{var t=e.visible,a=e.title,i=e.children,o=e.onClose,c=e.height,s=e.width,u=e.okText,m=e.cancelText,v=e.onOk,p=e.btnColor,b=e.style,f=e.clink,_=()=>{v&&(location.href=v)},w=()=>{o&&o()},g=r.a.createElement("div",{className:d.a.modalWrap},r.a.createElement("div",{className:d.a.modalMask}),r.a.createElement("div",{className:d.a.modal,style:{width:s+"px",height:c+"px",padding:f?0:"20px"}},r.a.createElement("span",{className:d.a.closeBtn,onClick:o},"x"),f?r.a.createElement("iframe",{src:f,style:{border:"none",width:"100%",height:"100%",borderRadius:6}}):r.a.createElement(r.a.Fragment,null,a&&r.a.createElement("div",{className:d.a.modalTit},a),r.a.createElement("div",{style:Object(n["a"])({maxHeight:c-120,overflow:"auto"},b)}," ",i," "),(!!u||!!m)&&r.a.createElement("div",{className:d.a.footer},r.a.createElement("div",{className:d.a.btn,onClick:_,style:{backgroundColor:p}},u||"\u786e\u8ba4"),r.a.createElement("div",{className:d.a.btn,onClick:w},m||"\u53d6\u6d88")))));return t?l.a.createPortal(g,document.body):null};t["default"]=Object(i["memo"])(s)},t2kq:function(e,t,a){"use strict";a("miYZ");var n=a("tsqr"),i=a("vDqi"),r=a.n(i),o=a("RKZ9"),l=r.a.create({baseURL:"".concat("https://dooring.vip","/").concat("api"),timeout:6e4,withCredentials:!0});l.interceptors.request.use((function(e){return e.headers={Authorization:"Bearer ".concat(localStorage.getItem("token"))},e}),(function(e){return Promise.reject(e)})),l.interceptors.response.use((function(e){var t;return"post"===(null===(t=e.config.method)||void 0===t?void 0:t.toLocaleLowerCase())&&(e.data.success||(n["b"].error(e.data.message),407==e.data.status&&(window.location.href=o["e"]))),e.data.data}),(function(e){var t=e.response;return t&&404===t.status?n["b"].error("\u8bf7\u6c42\u8d44\u6e90\u672a\u53d1\u73b0"):403===t.status?n["b"].error(t.data.message,()=>{var e=encodeURI("".concat(window.location.pathname).concat(window.location.search));window.location.href="/h5_plus/login?redirect=".concat(e),localStorage.removeItem("h5"),localStorage.removeItem("userData")}):n["b"].error(t.data.message),Promise.reject(e)})),t["a"]=l}}]);